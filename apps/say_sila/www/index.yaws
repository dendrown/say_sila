<!DOCTYPE html>
<html lang="en">
<head>
    <title>Everyone say, "Say Sila"</title>
   <!-- Bootstrap CSS -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
          crossorigin="anonymous">
</head>
<body>
<div class="container-fluid">
    <!-- ------------------------------------------------------------------- -->
    <div class="row" style="background-color: #AAAAAA">
        <div class="col" style="text-align: center">
        <br/>
        <erl> % ---------------------------------------------------------------
        out(Arg) ->
        {ActiveCC,
         ActiveGW,
         HashTag} = case yaws_api:queryvar(Arg, "track") of
                            %% --- CC ---   --- GW ---  ---- HASHTAG ----
                {ok, "cc"}  -> {" active",  "",         "#climatechange"};
                {ok, "gw"}  -> {"",         " active",  "#globalwarming"};
                _           -> {"",         "",         "Your highly emotional reaction is most illogical"}
            end,
            {ehtml, [{h1,   [], HashTag},
                     % ---- NAVIGATION BAR ------------------------------------
                     {nav,  [{class, <<"navbar navbar-expand-lg navbar-dark">>},
                             {style, <<"background-color: #606060">>}],
                            [{a,      [{class,           <<"navbar-brand">>},
                                       {href,            <<"#">>}],
                                      <<"Say Sila:">>},
                             {button, [{class,           <<"navbar-toggler">>},
                                       {type,            <<"button">>},
                                       {'data-toggle',   <<"collapse">>},
                                       {'data-target',   <<"#sila-nav">>},
                                       {'aria-controls', <<"#sila-nav">>},
                                       {'aria-expanded', <<"false">>},
                                       {'aria-label',    <<"Toggle navigation">>}],
                                      {span, [{class, <<"navbar-toggler-icon">>}]}},
                             {'div',  [{class, <<"collapse navbar-collapse">>},
                                       {id,    <<"sila-nav">>}],
                                      {ul,  [{class, <<"navbar-nav">>}],
                                            [{li, [{class, "nav-item" ++ ActiveCC}],
                                                  {a, [{class, <<"nav-link">>},
                                                       {href,  <<"/?track=cc">>}],
                                                      <<"#climatechange">>}},
                                             {li, [{class, "nav-item" ++ ActiveGW}],
                                                  {a, [{class, <<"nav-link">>},
                                                       {href,  <<"/?track=gw">>}],
                                                      <<"#globalwarming">>}}]}}]}]}.
        </erl>
        <erl> % ---------------------------------------------------------------
        out(Arg) -> wui_report:out(Arg).
        </erl>
        </div>
    </div>

    <div class="row" style="text-align: center; background-color: #00FF00">
    <br/>
    <erl> % ---------------------------------------------------------------
    out(Arg) -> wui_emote:out(Arg, fear).
    </erl>
    <p>&nbsp;</p>
    </div>

    <div class="row" style="text-align: center; background-color: #FF0000">
    <br/>
    <erl> % ---------------------------------------------------------------
    out(Arg) -> wui_emote:out(Arg, anger).
    </erl>
    <p>&nbsp;</p>
    </div>

    <div class="row" style="text-align: center; background-color: #6666FF">
    <br/>
    <erl> % ---------------------------------------------------------------
    out(Arg) -> wui_emote:out(Arg, sadness).
    </erl>
    <p>&nbsp;</p>
    </div>

    <div class="row" style="text-align: center; background-color: #FFFF33">
    <br/>
    <erl> % ---------------------------------------------------------------
    out(Arg) -> wui_emote:out(Arg, joy).
    </erl>
    <p>&nbsp;</p>
    </div>

    <!-- ------------------------------------------------------------------- -->
    <div class="row" style="background-color: #AAAAAA">
    <p>
        <erl>
        % ---------------------------------------------------------------------
        out(Arg) ->
            {html, [<<"<h4>Erlang/YAWS</h4>">>, get_arg_dlist(Arg)]}.

        % ---------------------------------------------------------------------
        get_arg_dlist(Arg) ->
            [<<"<dl>">>,
             lists:map(fun({Field, Ndx}) ->
                           io_lib:format("<dt>~p</dt><dd>~p</dd>", [Field,
                                                                    element(Ndx, Arg)])
                           end,
                       lists:zip(record_info(fields, arg),
                                 lists:seq(2, record_info(size, arg)))),
             <<"</dl>">>].

        % ---------------------------------------------------------------------
        </erl>
    </p>
    </div>
</div>
<!-- ClojureScript goes here -->

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.js"
        integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous">
</script>
</body>
</html>
