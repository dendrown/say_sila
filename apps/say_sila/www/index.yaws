<!DOCTYPE html>
<html lang="en">
<head>
    <title>Everyone say, "Say Sila"</title>
   <!-- Bootstrap CSS -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
          crossorigin="anonymous">
</head>
<body>
<div class="container-fluid">
    <!-- ------------------------------------------------------------------- -->
    <div class="row">
        <div class="col" style="text-align: center; background-color:#00FF00">
        <h2>FEAR</h2>
        <erl>
        % ---------------------------------------------------------------------
        out(Arg) ->
           %{ehtml, {img, [{src,   ["graph/", <<"gw">>, ".15.day.fear.png"]},
            {ehtml, {img, [{src,   ["graph/", get_track(Arg), ".15.day.fear.png"]},
                           {class, <<"img-fluid">>},
                           {alt,   <<"Fear Analysis">>}]}}.

        % ---------------------------------------------------------------------
        get_track(#arg{querydata = QryData}) ->
            %
            % FIXME: We need to parse the thing...really soon!
            case QryData of
                "track=cc"  -> <<"cc">>;
                _           -> <<"gw">>
            end.
        % ---------------------------------------------------------------------
        </erl>
        <p>&nbsp;</p>
        </div>
        <div class="col" style="text-align: center; background-color:#FF0000">
        <h2>ANGER</h2>
        <img src="graph/gw.15.day.anger.png" class="img-fluid" alt="Anger Analysis">
        <p>&nbsp;</p>
        </div>
    </div>
    <!-- ------------------------------------------------------------------- -->
    <div class="row">
        <div class="col" style="text-align: center; background-color:#6666FF">
        <h2>SADNESS</h2>
        <img src="graph/gw.15.day.sadness.png" class="img-fluid" alt="Sadness Analysis">
        <p>&nbsp;</p>
        </div>
        <div class="col" style="text-align: center; background-color:#FFFF33">
        <h2>JOY</h2>
        <img src="graph/gw.15.day.joy.png" class="img-fluid" alt="Joy Analysis">
        <p>&nbsp;</p>
        </div>
    </div>
    <!-- ------------------------------------------------------------------- -->
    <div class="row" style="background-color:#AAAAAA">
    <p>
        <erl>
        % ---------------------------------------------------------------------
        out(Arg) ->
            {html, [<<"Erlang/YAWS<br/>">>, get_arg_dlist(Arg)]}.

        % ---------------------------------------------------------------------
        get_track(#arg{querydata = QryData}) ->
            %
            % FIXME: We need to parse the thing...really soon!
            case QryData of
                "track=cc"  -> <<"cc">>;
                _           -> <<"gw">>
            end.


        % ---------------------------------------------------------------------
        get_arg_dlist(Arg) ->
            [<<"<dl>">>,
             lists:map(fun({Field, Ndx}) ->
                           io_lib:format("<dt>~p</dt><dd>~p</dd>", [Field,
                                                                    element(Ndx, Arg)])
                           end,
                       lists:zip(record_info(fields, arg),
                                 lists:seq(2, record_info(size, arg)))),
             <<"</dl>">>].

        % ---------------------------------------------------------------------
        </erl>
    </p>
    </div>
</div>
<!-- ClojureScript goes here -->

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
        integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous">
</script>
</body>
</html>
